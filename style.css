/* Mobile-first base styles */
body, html {
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  font-size: 17px;
  background: #e3e7ee;
  margin: 0;
  padding: 0;
  min-height: 100vh;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  overflow-x: hidden !important;
  width: 100vw !important;
  box-sizing: border-box !important;
}

/* --- Modern Top Bar --- */
.top-bar {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  background: #f8fafc;
  border-radius: 0 0 18px 18px;
  box-shadow: 0 2px 8px rgba(60,80,130,0.07);
  padding: 7px 10px 7px 7px;
  margin: 0 0 7px 0;
  min-height: 44px;
  position: sticky;
  top: 0;
  z-index: 10;
}

/* Top bar: compact, no extra white space */
.top-bar.compact {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  gap: 10px; /* was 18px, reduce for less space between email and buttons */
  background: #f8fafc;
  border-radius: 0 0 18px 18px;
  box-shadow: 0 2px 8px rgba(60,80,130,0.07);
  padding: 4px 6px 4px 6px;
  margin: 0 0 2px 0;
  min-height: 36px;
  position: sticky;
  top: 0;
  z-index: 10;
}

/* Logout button: colorful, round, same size as collapse-all */
.action-btn.logout {
  background: linear-gradient(135deg, #ff5858 0%, #f09819 100%) !important;
  color: #fff !important;
  border-radius: 50% !important;
  width: 40px !important;
  height: 40px !important;
  min-width: 40px !important;
  min-height: 40px !important;
  padding: 0 !important;
  margin: 0 !important;
  box-shadow: 0 2px 8px rgba(30,30,30,0.13), 0 1.5px 4px rgba(60,80,130,0.10) !important;
  opacity: 1 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  order: 0 !important;
  border: none !important;
  transition: background 0.18s, box-shadow 0.13s, transform 0.12s !important;
  z-index: 100 !important;
  outline: none !important;
  cursor: pointer !important;
  overflow: visible !important;
}
.action-btn.logout svg {
  width: 24px !important;
  height: 24px !important;
  fill: #fff !important;
  stroke: #fff !important;
  display: block !important;
  transition: fill 0.13s, stroke 0.13s !important;
}
.action-btn.logout:active,
.action-btn.logout:hover,
.action-btn.logout:focus {
  background: linear-gradient(135deg, #f09819 0%, #ff5858 100%) !important;
  color: #fff !important;
  box-shadow: 0 4px 16px rgba(30,30,30,0.18) !important;
  transform: scale(1.08) !important;
}

/* Email label: next to logout, no extra margin */
#user-email-label {
  background: #f9f9f9;
  color: #333;
  font-size: 1em;
  padding: 0.02em 0.5em; 
  border-radius: 1.2em;
  box-shadow: 0 1px 4px rgba(0,0,0,0.06);
  margin: 0;
  font-weight: 500;
  min-width: 0;
  max-width: 60vw;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  align-self: center;
}

/* Collapse All: colorful, round, same size as logout */
#collapse-all-btn {
  position: static;
  margin: 0 0 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #36d1c4 0%, #5b86e5 100%) !important;
  border: none !important;
  padding: 0 !important;
  border-radius: 50% !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.12);
  cursor: pointer;
  min-width: 40px !important;
  min-height: 40px !important;
  width: 40px !important;
  height: 40px !important;
  transition: background 0.13s, box-shadow 0.13s, transform 0.11s;
  z-index: 1;
  order: 2;
}
#collapse-all-btn .collapse-icon svg {
  width: 24px !important;
  height: 24px !important;
}
#collapse-all-btn:active,
#collapse-all-btn:hover {
  background: linear-gradient(135deg, #5b86e5 0%, #36d1c4 100%) !important;
  box-shadow: 0 4px 12px rgba(60, 80, 130, 0.17);
  transform: scale(1.07);
}

/* --- Modern Action Buttons --- */
.actions-mobile {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 8px;
  max-width: 99vw;
  margin: 0 auto 0 auto;
  padding: 0 2vw;
}

/* Remove extra white space below top bar */
.actions-mobile.compact-actions {
  margin-top: 18px !important; /* Add vertical space below top bar */
  margin: 0 auto 0 auto;
  padding: 0 2vw;
  gap: 0;
}

.action-btn.move-delete {
  background: linear-gradient(90deg, #f59e42 70%, #fecf6e 100%);
  color: #fff;
  font-size: 0.75rem !important; /* Reduced font size */
  min-height: 40px !important; /* Reduced height */
  padding: 0 10px !important; /* Adjusted padding */
  border-radius: 8px !important; /* Adjusted border radius */
  font-weight: 700;
  letter-spacing: 0.01em;
  box-shadow: 0 1px 4px rgba(60,80,130,0.09);
  text-align: center; /* Ensure text alignment */
  white-space: nowrap; /* Prevent text wrapping */
  overflow: hidden; /* Prevent text overflow */
  text-overflow: ellipsis; /* Add ellipsis for overflowed text */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px; /* Evenly space icons */
  min-width: 90px !important;
  max-width: 120px !important;
  min-height: 32px !important;
  max-height: 36px !important;
  padding: 0 10px !important;
  border-radius: 12px !important;
  font-size: 0.97rem !important;
  /* Remove text-overflow/ellipsis since only icons */
  white-space: nowrap;
  overflow: visible;
  text-overflow: unset;
}

.row-btns {
  display: flex;
  flex-direction: row;
  gap: 7px;
  width: 100%;
  margin-bottom: 2px;
}

.action-btn.reset {
  background: linear-gradient(90deg, #6366f1 70%, #a5b4fc 100%);
  color: #fff;
  border-radius: 10px;
  font-size: 1.08rem;
  min-height: 38px;
  font-weight: 700;
  letter-spacing: 0.01em;
  box-shadow: 0 1px 4px rgba(60,80,130,0.09);
}

.action-btn.check-zeros {
  background: linear-gradient(90deg, #22c55e 70%, #38bdf8 100%) !important;
  color: #fff !important;
  border-radius: 12px !important;
  font-size: 0.97rem !important;
  min-height: 32px !important;
  max-height: 36px !important;
  padding: 0 12px !important;
  font-weight: 700;
  letter-spacing: 0.01em;
  box-shadow: 0 1px 4px rgba(60,80,130,0.09);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-width: 70px !important;
  max-width: 80px !important;
  white-space: nowrap;
  overflow: visible;
  text-overflow: unset;
}

/* Force the three main buttons to always be in a single horizontal line */
.actions-mobile .row-btns,
.actions-mobile .row-btns.one-line-btns,
.actions-mobile .compact-row-btns,
.actions-mobile .row-btns.compact-row-btns {
  display: flex !important;
  flex-direction: row !important;
  gap: 2px !important; /* was 3px */
  width: 100%;
  margin-bottom: 2px;
  justify-content: space-between;
}

/* Make the buttons as compact as possible */
.action-btn.compact-btn,
.action-btn.move-delete,
.action-btn.reset,
.action-btn.check-zeros {
  font-size: 0.89rem;
  min-height: 27px;
  padding: 0 3px;
  border-radius: 6px;
  font-weight: 600;
  box-shadow: 0 1px 2px rgba(60,80,130,0.05);
  flex: 1 1 0;
  max-width: 33.3%;
  white-space: nowrap;
  line-height: 1.1;
  margin: 0;
}

/* Remove extra margin from .action-btn.move-delete */
.action-btn.move-delete {
  margin-bottom: 0;
}

/* On small screens, keep them horizontal unless extremely narrow */
@media (max-width: 350px) {
  .actions-mobile .row-btns,
  .actions-mobile .row-btns.one-line-btns,
  .actions-mobile .compact-row-btns,
  .actions-mobile .row-btns.compact-row-btns {
    flex-direction: column !important;
    gap: 5px !important;
  }
}

/* Responsive: stack buttons on very small screens */
@media (max-width: 430px) {
  .row-btns {
    flex-direction: column;
    gap: 7px;
  }
  .top-bar {
    flex-direction: column;
    align-items: stretch;
    gap: 4px;
    padding: 7px 5px 7px 5px;
  }
  #user-email-label {
    max-width: 90vw;
    margin: 0 0 0 0;
  }
  .row-btns.one-line-btns {
    flex-direction: column;
    gap: 5px;
  }
}

/* Center the title */
.center-title {
  text-align: center;
  margin: 8px 0 0 0 !important;
  font-size: 1.55rem;
  color: #343c4e;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  font-weight: 700;
  letter-spacing: 0.01em;
}

/* Remove space between title and clock */
.tight-datetime {
  font-size: 1.06rem;
  color: #6c7a89;
  text-align: center;
  margin-top: 2px;
  margin-bottom: 13px;
  font-weight: 500;
  opacity: 0.92;
}

/* Datetime display */
.datetime {
  font-size: 1.06rem;
  color: #6c7a89;
  text-align: center;
  margin-bottom: 13px;
  font-weight: 500;
  opacity: 0.92;
}

/* List/table containers */
.container {
  width: 100vw !important;
  max-width: 100vw !important;
  min-width: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  box-sizing: border-box !important;
  overflow-x: auto !important;
  /* Remove extra margin if present */
  margin: 13px 0 22px 0 !important;
  background: #fff;
  border-radius:10px;
  box-shadow:0 2px 9px rgba(66,80,104,0.08);
  overflow:hidden;
  border:1px solid #d8e0ed;
  max-width: 99vw;
  padding-bottom: 3px;
}
.header {
  display:flex;
  flex-direction:row;
  align-items:center;
  padding:8px 10px 8px 10px; /* Decreased vertical padding */
  font-size:1.22rem;
  font-weight:700;
  color:#fff;
  cursor:pointer;
  min-height:32px; /* Decreased from 48px */
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  letter-spacing:0.01em;
  border-bottom: 1px solid #d6dbe2;
  font-size: 1.38rem !important; /* Force larger header font always */
}
.veggies-header { background: #388e3c; }
.grocery-header { background: #1976d2; }
.indian-header { background: #ff9800; }
.kmart_bigw_target-header { background: #8e24aa; }
.pharmacy-header { background: #00897b; }
.others-header { background: #607d8b; }
.default-header { background: #546e7a; }
.header-title{
  flex:0 0 auto;
  font-size:1.03rem;
  margin-right:7px;
  color: #fff;
  letter-spacing:0.01em;
  cursor: pointer;
  font-size: 1.22rem !important; /* Force larger header title always */
}
.header-count{
  font-size:1.01rem;
  font-weight:900;
  background:rgba(240,240,240,0.98);
  color:#222;
  padding:2px 10px;
  border-radius:17px;
  margin-left:3px;
  margin-right: 18px; /* <-- Add more space after count */
  min-width:20px;
  text-align:center;
  display:inline-block;
  vertical-align:middle;
  box-shadow:0 1px 3px rgba(0,0,0,.05);
  border:1px solid #e0e3ea;
  margin-right: 8px; /* Adjust spacing for icons */
}
.header-check{
  font-size:1.01rem;
  font-weight:900;
  color:#fff;
  background:#71c77a;
  padding:2px 8px;
  border-radius:17px;
  margin-left:4px;
  min-width:15px;
  display:inline-block;
  text-align:center;
}
.collapse-arrow{
  margin-left:auto; /* Push to far right */
  margin-right: 8px; /* Some space from right edge */
  min-width: 32px;
  min-height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0; /* Hide default triangle text */
  cursor: pointer;
  user-select: none;
  z-index: 2;
  background: rgba(255,255,255,0.15);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 6px;
  transition: all 0.18s ease;
  position: relative;
  order: 999; /* Ensure it's always last */
}

/* Modern chevron icon using CSS */
.collapse-arrow::before {
  content: '';
  width: 8px;
  height: 8px;
  border-right: 2px solid currentColor;
  border-bottom: 2px solid currentColor;
  transform: rotate(45deg);
  transition: transform 0.18s ease;
  opacity: 0.85;
}

/* Hover effect */
.collapse-arrow:hover {
  background: rgba(255,255,255,0.25);
  border-color: rgba(255,255,255,0.4);
  transform: scale(1.05);
}

/* Collapsed state - rotate chevron */
.collapsed .collapse-arrow::before {
  transform: rotate(-135deg);
}

/* Active state */
.collapse-arrow:active {
  background: rgba(255,255,255,0.35);
  transform: scale(0.98);
}

ul { list-style:none; margin:0; padding:0 }
li {
  border: 1px solid #ccc;
  display:flex;
  align-items:center;
  gap:16px;
  padding:8px 4px; /* Reduced padding for compact rows */
  border-bottom:1px solid #e3e9f2;
  background: #fff;
  font-size:1.13rem; /* Larger list item font for desktop */
  user-select:none;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  position:relative;
  border-radius:10px;
  margin: 8px 0;
  box-shadow: 0 1px 4px rgba(0,0,0,0.03);
  min-height: 36px; /* Reduced row height from 64px */
  font-size: 1.18rem !important; /* Force larger list item font always */
  width: 100% !important;
  max-width: 100vw !important;
  box-sizing: border-box !important;
  overflow-x: hidden !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}
li:last-child { border-bottom:none }
li.checked {
  background: #f1f1f1 !important;
  color: #444 !important;
  opacity: .77;
  text-decoration: line-through;
}
li.to-buy {
  background: #FFF8D6 !important;
  color: #b26a00 !important;
  opacity: 1;
  text-decoration: none;
}
li.zero-count {
  background: #fff !important;
  color: inherit !important;
  opacity: 1;
  text-decoration: none;
}

/* Delete SVG wrapper */
.item-delete-svg-wrap {
  background: #fff;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  box-shadow: 0 1.5px 4px rgba(60,80,130,0.10);
  border: 1.5px solid #bbb; /* Add subtle border for visibility */
  transition: background 0.13s, border-color 0.13s;
}

/* Move handle for items: square white background, like bin icon */
.item-move-handle {
  margin-left: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: grab;
  background: #fff;
  border-radius: 7px;
  width: 28px;
  height: 28px;
  box-shadow: 0 1.5px 4px rgba(60,80,130,0.10);
  border: 1.5px solid #bbb;
  transition: background 0.13s, border-color 0.13s;
  color: #888;
}

.item-move-handle svg {
  width: 18px;
  height: 18px;
  display: block;
}

.item-move-handle:active {
  background: #f3f6fa;
  border-color: #888;
}

/* Edit input for table name */
.edit-table-input {
  font-size: 1.13rem;
  font-weight: 700;
  border-radius: 6px;
  padding: 2px 7px;
  margin: 0 2px;
  width: 80%;
  border: 1.5px solid #c7d1e6;
  background: #f7fafd;
  outline: none;
  box-sizing: border-box;
}
.edit-table-input:focus {
  border: 1.5px solid #388e3c;
  background: #fff;
}

/* Edit input for item name */
.edit-item-input {
  font-size: 1.15rem;
  font-weight: 700;
  border-radius: 6px;
  padding: 2px 7px;
  margin: 0 2px;
  width: 90%;
  border: 1.5px solid #c7d1e6;
  background: #f7fafd;
  outline: none;
  box-sizing: border-box;
}
.edit-item-input:focus {
  border: 1.5px solid #388e3c;
  background: #fff;
}

/* --- NAME FIELD: Larger font and padding --- */
.name {
  /* --- THIS CONTROLS THE ITEM NAME FONT SIZE AND STYLE --- */
  flex: 1;
  min-width: 0;
  font-size: 1.6rem !important; /* <--- Item name font size (change this for item name size, !important added) */
  line-height: 1.2;
  border: none;
  background: transparent;
  outline: none;
  padding: 0 0 0 4px;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  font-weight: 700;
  color: #232323;
  letter-spacing: 0.01em;
  border-radius: 8px;
  word-break: break-word;
  cursor: pointer;
}

/* --- Hindi font for item names in Devanagari script --- */
.name:lang(hi),
.name.hindi-text {
  font-family: 'Noto Sans Devanagari', 'Mangal', 'Lohit Devanagari', 'Arial', sans-serif !important;
  font-weight: 700;
  /* Optionally, adjust font-size or color for Hindi if needed */
}

/* --- COUNTER BUTTONS: Squeeze and right-align --- */
.counter {
  /* --- THIS CONTROLS THE COUNTER BUTTONS SIZE AND LAYOUT --- */
  display: flex;
  align-items: center;
  gap: 10px;
  background: transparent !important; /* Remove any background */
  border-radius: 16px;
  padding: 0 2px;
  min-width: 0;
  justify-content: flex-end;
  box-shadow: none;
  margin-left: auto;
  margin-right: 15px !important;
  border: none;
  flex: 0 0 auto;
  /* Optionally, set a max-width if needed */
}

.counter button {
  /* --- THIS CONTROLS THE COUNTER BUTTON SIZE --- */
  width: 28px !important;      /* <--- Counter button width */
  height: 28px !important;     /* <--- Counter button height */
  min-width: 28px !important;
  min-height: 28px !important;
  font-size: 1.05rem !important; /* <--- Counter button font size */
  border-radius: 20% !important;
  padding: 0 !important;
  box-shadow: none !important;
  font-weight: 700;
  border: 0.001px solid #888;
  background: transparent;
  color: #222;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s, border-color 0.15s;
  touch-action: manipulation;
  outline: none;
  line-height: 1;
}
.counter .count {
  /* --- THIS CONTROLS THE NUMBER FONT SIZE IN THE COUNTER --- */
  font-size: 1.6rem !important; /* <--- Counter number font size */
  font-weight: 700;
  margin: 0 2px;
  min-width: 16px;
  text-align: center;
  color: #1c2331;
}

/* --- CHECKBOXES: Large for touch --- */
input[type="checkbox"] {
  width: 32px;
  height: 32px;
  cursor: pointer;
  margin-top: 1px;
  accent-color: #666;
  border-radius: 7px;
  box-shadow: 0 1px 4px rgba(80,80,80,0.07);
  border: 1.5px solid #d3dbe6;
  background: #fafbfc;
  margin-left: 4px;
}

/* --- BUTTONS: General --- */
.add-table-btn,
.action-btn {
  font-size: 1.25rem !important;
  min-height: 54px !important;
  padding: 0 18px !important;
  border-radius: 12px !important;
  font-weight: 700 !important;
  box-shadow: 0 1px 4px rgba(60,80,130,0.09);
  touch-action: manipulation;
  color: #444 !important; /* Make text gray, not black */
}

/* --- ADD TABLE BUTTON WRAP: Make button small and left-aligned --- */
.add-table-btn-wrap {
  width: 100%;
  display: flex;
  justify-content: flex-start;   /* Left align */
  align-items: flex-start;
  margin: 54px 0 0 0;           /* Increased from 38px to 54px for more space from top */
  padding-left: 0;
}

/* --- ADD TABLE BUTTON: Small, compact, left, mobile-friendly --- */
.add-table-btn {
  font-size: 0.97rem !important;
  min-height: 24px !important;
  max-height: 28px !important;
  padding: 0 13px !important;
  border-radius: 7px !important;
  font-weight: 700 !important;
  box-shadow: 0 1px 2px rgba(60,80,130,0.07);
  color: #444 !important;
  background: #f5f7fa !important;
  border: 1.2px solid #bbb;
  margin-left: 10px;
  margin-right: 0;
  margin-top: 12px;              /* Space from last item */
  margin-bottom: 0;
  width: auto;
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  transition: background 0.13s, border-color 0.13s;
}

/* Remove extra centering for add-table-btn inside wrap */
.add-table-btn {
  margin: 0 0 0 10px;
}

/* For the per-table "+ Add Item" button at the bottom of each table */
.container > .add-table-btn {
  font-size: 0.97rem !important;
  min-height: 22px !important;
  max-height: 26px !important;
  padding: 0 10px !important;
  border-radius: 7px !important;
  font-weight: 700 !important;
  margin-top: 18px !important;    /* Space from last item in list */
  margin-bottom: 6px !important;  /* Minimal space at bottom */
  margin-left: 12px !important;   /* Left align, some indent */
  margin-right: 0 !important;
  box-shadow: 0 1px 2px rgba(60,80,130,0.07);
  background: #f5f7fa !important;
  border: 1.2px solid #bbb;
  color: #444 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  width: auto !important;
  max-width: 180px !important;
  min-width: 0 !important;
}

/* Prevent full width for per-table add button */
.container > .add-table-btn,
.container > .add-table-btn:only-child {
  width: auto !important;
  min-width: 0 !important;
  max-width: 180px !important;
  display: inline-flex;
}

/* Remove any centering from the wrap for per-table button */
.add-table-btn-wrap {
  width: 100%;
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
  margin: 20px 0 10px 0;
  padding-left: 0;
}

/* --- MODALS: Make popups smaller and buttons compact --- */
.modal-dialog, .input-modal-dialog {
  min-width: 180px;
  max-width: 90vw;
  width: 320px;
  padding: 18px 12px 12px 12px;
  font-size: 1.04rem;
  border-radius: 13px;
  background: #fff;
  box-shadow: 0 3px 14px rgba(0,0,0,0.13);
  border: 1px solid #e2e7f1;
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.modal-title, .input-modal-title {
  font-size: 1.07rem;
  font-weight: 600;
  margin-bottom: 4px;
  text-align: center;
}

.modal-btns, .input-modal-btns {
  display: flex;
  flex-direction: row;
  gap: 10px;
  justify-content: center;
  align-items: center;
  margin-top: 4px;
  width: 100%;
}

.modal-btn-no, .modal-btn-yes, .input-modal-btn {
  width: auto;
  min-width: 64px;
  max-width: 120px;
  padding: 7px 0;
  font-size: 1.01rem;
  border-radius: 8px;
  font-weight: 600;
  border: none;
  background: #f3f6fa;
  color: #222;
  margin: 0;
  box-shadow: none;
  transition: background 0.14s;
  flex: 1 1 0;
}

.modal-btn-yes, .input-modal-btn-ok {
  background: linear-gradient(90deg,#388e3c 60%, #5dd05d 100%);
  color: #fff;
}

.modal-btn-no, .input-modal-btn-cancel {
  background: #f3f6fa;
  color: #222;
}

.modal-btn-no:active, .input-modal-btn-cancel:active {
  background: #e0e7ef;
}
.modal-btn-yes:active, .input-modal-btn-ok:active {
  background: linear-gradient(90deg,#3070b3 0%,#2b79c2 100%);
}

.input-modal-backdrop {
  position: fixed;
  z-index: 2000;
  left: 0; top: 0; right: 0; bottom: 0;
  background: rgba(30,40,60,0.18);
  display: none;
  align-items: center;
  justify-content: center;
}
.input-modal-backdrop.active {
  display: flex;
}
.input-modal-dialog {
  background: #fff;
  border-radius: 13px;
  box-shadow: 0 3px 14px rgba(0,0,0,0.13);
  border: 1px solid #e2e7f1;
  min-width: 180px;
  max-width: 90vw;
  width: 320px;
  padding: 18px 12px 12px 12px;
  font-size: 1.04rem;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.input-modal-title {
  font-size: 1.07rem;
  font-weight: 600;
  margin-bottom: 4px;
  text-align: center;
}
.input-modal-input {
  font-size: 1.07rem;
  padding: 8px 8px;
  border-radius: 7px;
  border: 1.2px solid #c7d1e6;
  background: #f7fafd;
  outline: none;
  width: 100%;
  box-sizing: border-box;
  margin-bottom: 4px;
  transition: border 0.13s, background 0.13s;
}
.input-modal-input:focus {
  border: 1.2px solid #388e3c;
  background: #fff;
}
.input-modal-btns {
  display: flex;
  flex-direction: row;
  gap: 10px;
  justify-content: center;
  align-items: center;
  margin-top: 4px;
  width: 100%;
}
.input-modal-btn {
  width: auto;
  min-width: 64px;
  max-width: 120px;
  padding: 7px 0;
  font-size: 1.01rem;
  border-radius: 8px;
  font-weight: 600;
  border: none;
  background: #f3f6fa;
  color: #222;
  margin: 0;
  box-shadow: none;
  transition: background 0.14s;
  flex: 1 1 0;
}
.input-modal-btn-ok {
  background: linear-gradient(90deg,#388e3c 60%, #5dd05d 100%);
  color: #fff;
}
.input-modal-btn-cancel {
  background: #f3f6fa;
  color: #222;
}
.input-modal-btn-cancel:active {
  background: #e0e7ef;
}
.input-modal-btn-ok:active {
  background: linear-gradient(90deg,#3070b3 0%,#2b79c2 100%);
}

/* --- LOGIN CARD: Larger for mobile --- */
.login-card {
  padding: 38px 8vw 38px 8vw;
  min-width: 0;
  width: 98vw;
  max-width: 99vw;
  border-radius: 18px;
  gap: 18px;
}
.login-logo {
  font-size: 3.2rem;
  width: 70px;
  height: 70px;
}
.login-title {
  font-size: 1.45rem;
}
.login-desc {
  font-size: 1.18rem;
}
.allowed-item {
  font-size: 1.18rem;
  padding: 14px 18px;
  gap: 14px;
}
.allowed-avatar {
  width: 44px;
  height: 44px;
  font-size: 1.35rem;
}
.google-btn {
  font-size: 1.18rem;
  padding: 14px 0;
  gap: 14px;
}

/* --- MODERN LOGIN PAGE --- */
.login-bg-modern {
  min-height: 100vh;
  width: 100vw;
  background: linear-gradient(135deg, #e3e7ee 0%, #f8fafc 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  position: fixed;
  top: 0; left: 0;
  z-index: 100;
}

.login-card-modern {
  background: #fff;
  border-radius: 22px;
  box-shadow: 0 8px 32px rgba(60,80,130,0.13), 0 1.5px 4px rgba(60,80,130,0.10);
  padding: 48px 32px 36px 32px;
  min-width: 0;
  width: 98vw;
  max-width: 410px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 22px;
  margin: 0 auto;
  position: relative;
}

.login-logo-modern {
  margin-bottom: 10px;
  width: 64px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.login-title-modern {
  font-size: 2.1rem;
  font-weight: 800;
  color: #232c3d;
  letter-spacing: 0.01em;
  text-align: center;
  margin-bottom: 0;
}
.brand-accent {
  color: #1976d2;
  font-weight: 900;
}

.login-desc-modern {
  font-size: 1.18rem;
  color: #4b5563;
  text-align: center;
  margin-bottom: 0;
  font-weight: 500;
}
.login-subdesc {
  font-size: 1.01rem;
  color: #6c7a89;
  display: block;
  margin-top: 7px;
  font-weight: 400;
}

.google-btn-modern {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 13px;
  background: linear-gradient(90deg, #fff 70%, #f3f6fa 100%);
  border: 1.5px solid #d1d5db;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(60,80,130,0.07);
  font-size: 1.18rem;
  font-weight: 700;
  color: #232c3d;
  padding: 13px 0;
  width: 100%;
  max-width: 340px;
  cursor: pointer;
  transition: background 0.13s, box-shadow 0.13s, border 0.13s;
  margin-top: 10px;
}
.google-btn-modern:hover,
.google-btn-modern:focus {
  background: #f3f6fa;
  border-color: #1976d2;
  color: #1976d2;
  box-shadow: 0 4px 16px rgba(60,80,130,0.13);
  outline: none;
}
.google-logo-modern {
  width: 32px;
  height: 32px;
  display: block;
}

#google-btn-text-modern {
  font-size: 1.18rem;
  font-weight: 700;
  color: #232c3d;
}

.login-error-modern {
  color: #e53935;
  font-size: 1.01rem;
  margin-top: 8px;
  text-align: center;
  min-height: 1.2em;
}

/* Responsive for login card */
@media (max-width: 600px) {
  .login-card-modern {
    padding: 32px 8vw 32px 8vw;
    max-width: 98vw;
    min-width: 0;
    border-radius: 16px;
  }
  .login-title-modern {
    font-size: 1.45rem;
  }
  .login-desc-modern {
    font-size: 1.08rem;
  }
  .google-btn-modern {
    font-size: 1.08rem;
    padding: 12px 0;
    border-radius: 10px;
    max-width: 99vw;
  }
  .login-logo-modern {
    width: 54px;
    height: 54px;
  }
}

/* Hide old login card if present */
.login-card, .login-bg {
  display: none !important;
}

/* --- MODALS: Position input modals higher on mobile to avoid keyboard overlap --- */
@media (max-width: 600px) {
  .input-modal-backdrop.active,
  .modal-backdrop.active {
    align-items: flex-start !important;
    justify-content: center !important;
  }
  .input-modal-dialog,
  .modal-dialog {
    margin-top: 10vh !important;
    margin-bottom: 0 !important;
  }
}

/* For very small screens, push even higher */
@media (max-width: 430px) {
  .input-modal-dialog,
  .modal-dialog {
    margin-top: 4vh !important;
  }
}

/* --- Make input modal dialog float above keyboard, centered, not full width --- */
@media (max-width: 600px) {
  .input-modal-backdrop.active {
    align-items: flex-end !important;
    justify-content: center !important;
  }
  .input-modal-dialog {
    position: fixed !important;
    left: 50% !important;
    /* Place the dialog above the keyboard, but not at the very bottom */
    bottom: 18vh !important;
    transform: translateX(-50%) !important;
    width: 92vw !important;
    max-width: 340px !important;
    min-width: 0 !important;
    border-radius: 13px !important;
    margin: 0 !important;
    z-index: 2001 !important;
    box-shadow: 0 2px 16px rgba(0,0,0,0.13);
    background: #fff;
    padding-bottom: 12px;
  }
}

/* For very small screens, float a bit higher and keep width reasonable */
@media (max-width: 430px) {
  .input-modal-dialog {
    bottom: 24vh !important;
    width: 97vw !important;
    max-width: 99vw !important;
  }
}

/* Add white rectangle background to the delete and move buttons in table headers */
.table-delete-btn, .table-move-handle {
  background: #fff !important;
  border-radius: 7px !important;
  box-shadow: 0 1.5px 4px rgba(60,80,130,0.10);
  border: 1.5px solid #bbb !important;
  padding: 0 !important;
  width: 32px !important;
  height: 32px !important;
  min-width: 32px !important;
  min-height: 32px !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  margin-right: 0 !important;
}

/* Hide modals by default, show only when active */
.modal-backdrop {
  display: none !important;
}

/* --- MODAL DEBUG: Hide all modals by default, only show when .active is present --- */
.modal-backdrop {
  display: none !important;
  align-items: center !important;
  justify-content: center !important;
  position: fixed !important;
  left: 0; top: 0; right: 0; bottom: 0;
  z-index: 2000;
  background: rgba(30,40,60,0.18);
}
.modal-backdrop.active {
  display: flex !important;
}

/* Make sure .modal-dialog is only visible when .modal-backdrop is active */
.modal-backdrop:not(.active) .modal-dialog {
  display: none !important;
}

/* --- Modern Professional Action Buttons --- */
.row-btns .action-btn,
.row-btns .add-table-btn {
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif !important;
  font-size: 1.13rem !important;
  font-weight: 700 !important;
  border-radius: 13px !important;
  border: none !important;
  box-shadow: 0 2px 8px rgba(60,80,130,0.09);
  padding: 0.85em 0.5em !important;
  margin: 0 7px 0 0 !important;
  min-height: 44px !important;
  max-height: 54px !important;
  flex: 1 1 0;
  transition: background 0.16s, box-shadow 0.13s, color 0.13s, transform 0.11s;
  display: flex;
  align-items: center;
  justify-content: center;
  letter-spacing: 0.01em;
  outline: none;
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
}

.row-btns .action-btn:last-child,
.row-btns .add-table-btn:last-child {
  margin-right: 0 !important;
}

/* Edit Button */
.row-btns .action-btn.move-delete {
  background: linear-gradient(90deg, #ffb347 0%, #ffcc80 100%) !important;
  color: #232323 !important;
  border: 1.5px solid #f59e42 !important;
  box-shadow: 0 2px 8px rgba(245,158,66,0.10);
}
.row-btns .action-btn.move-delete.editing-mode {
  background: linear-gradient(90deg, #f59e42 0%, #fbbf24 100%) !important;
  color: #333 !important;
  border: 1.5px 
}

/* Reset Button */
.row-btns .action-btn.reset {
  background: linear-gradient(90deg, #6366f1 0%, #60a5fa 100%) !important;
  color: #fff !important;
  border: 1.5px solid #6366f1 !important;
  box-shadow: 0 2px 8px rgba(99,102,241,0.10);
}

/* Check Zeros Button */
.row-btns .action-btn.check-zeros {
  background: linear-gradient(90deg, #22c55e 0%, #38bdf8 100%) !important;
  color: #fff !important;
  border: 1.5px solid #22c55e !important;
  box-shadow: 0 2px 8px rgba(34,197,94,0.10);
}

/* Button hover/active/focus states */
.row-btns .action-btn:hover,
.row-btns .action-btn:focus {
  filter: brightness(1.07) saturate(1.08);
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 4px 16px rgba(60,80,130,0.13);
  outline: none;
}
.row-btns .action-btn:active {
  filter: brightness(0.97);
  transform: scale(0.98);
}

/* Make sure text is always centered and ellipsis if too long */
.row-btns .action-btn span,
.row-btns .action-btn {
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Reduce height for the three main action buttons */
.row-btns .action-btn,
.row-btns .add-table-btn {
  min-height: 28px !important; /* was 32px */
  max-height: 32px !important; /* was 38px */
  padding: 0.35em 0.35em !important; /* was 0.5em 0.5em */
  font-size: 0.97rem !important; /* was 1.13rem */
}

/* Responsive: smaller on mobile */
@media (max-width: 600px) {
  .row-btns .action-btn,
  .row-btns .add-table-btn {
    min-height: 28px !important;
    max-height: 34px !important;
    padding: 0.4em 0.3em !important;
  }
}

/* Hide the add-table-btn when the table is collapsed */
.container.collapsed > .add-table-btn {
  display: none !important;
}

/* Remove !important from display for .add-table-btn so JS/CSS can control it */
.container > .add-table-btn,
.container > .add-table-btn:only-child {
  width: auto !important;
  min-width: 0 !important;
  max-width: 180px !important;
  display: inline-flex;
}

/* Style the main "+ Add New Store & Item" button to be darker, centered, and spaced down */
.add-table-btn-wrap {
  width: 100%;
  display: flex;
  justify-content: center;      /* Center horizontally */
  align-items: flex-start;
  margin: 54px 0 0 0;           /* Increased from 38px to 54px for more space from top */
  padding-left: 0;
  margin-bottom: 160px; /* Keep as is for bottom space */
}

#add-table-btn-main.add-table-btn {
  background: linear-gradient(90deg, #959494 0%, #959494 100%) !important;
  color: #fff !important;
  border: 1.5px solid #222 !important;
  font-size: 1.09rem !important;
  min-height: 34px !important;
  max-height: 40px !important;
  padding: 0 22px !important;
  border-radius: 9px !important;
  font-weight: 700 !important;
  margin: 0 auto !important;
  box-shadow: 0 2px 8px rgba(60,80,130,0.10);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background 0.13s, border-color 0.13s, color 0.13s;
}

#add-table-btn-main.add-table-btn:hover {
  background: linear-gradient(90deg, #222 0%, #444 100%) !important;
  color: #fff !important;
  border-color: #111 !important;
}

/* Restore per-table "+ Add Item" button styles (do NOT override with dark color or center) */
.container > .add-table-btn,
.container > .add-table-btn:only-child {
  width: auto !important;
  min-width: 0 !important;
  max-width: 180px !important;
  display: inline-flex;
}

/* Center and space down the main button only */
.add-table-btn-wrap {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  margin: 38px 0 0 0;
  padding-left: 0;
}

/* Center modal dialog vertically and horizontally on all screens */
.modal-backdrop {
  display: none !important;
  align-items: center !important;
  justify-content: center !important;
}
.modal-backdrop.active {
  display: flex !important;
}

/* --- MODAL CENTERING FIX: Always center modal dialog in viewport --- */
.modal-backdrop,
.modal-backdrop.active {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: fixed !important;
  left: 0; top: 0; right: 0; bottom: 0;
  z-index: 2000;
  background: rgba(30,40,60,0.18);
}

/* Ensure modal-dialog is centered and not positioned at the bottom */
.modal-dialog {
  margin: 0 !important;
  position: relative !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  transform: none !important;
}

/* Remove any mobile overrides that push modal to the top or bottom */
@media (max-width: 600px) {
  .modal-backdrop.active {
    align-items: center !important;
    justify-content: center !important;
  }
  .modal-dialog {
    margin: 0 !important;
    position: relative !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
    transform: none !important;
  }
}

/* --- FIX: Prevent modal-backdrop from blocking clicks when not active --- */
.modal-backdrop {
  display: none !important;
  pointer-events: none !important; /* Do not block clicks when hidden */
}
.modal-backdrop.active {
  display: flex !important;
  pointer-events: auto !important; /* Only block clicks when active */
}

/* Add gap between delete and move icons in table header */
.header .table-delete-btn {
  margin-right: 14px !important; /* Increase this value for more gap */
}

/* Table header delete and move icons: same height and width */
.header .table-delete-btn,
.header .table-move-handle {
  width: 32px !important;
  height: 32px !important;
  min-width: 32px !important;
  min-height: 32px !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
}

/* Make SVGs inside both icons the same size */
.header .table-delete-btn svg,
.header .table-move-handle svg {
  width: 22px !important;
  height: 22px !important;
  display: block;
}

/* --- Undo Toast: Show above the Add New Store button, floating, centered, visually clear --- */
.undo-toast {
  position: fixed;
  left: 50%;
  bottom: 120px; /* Place above the Add New Store button (which has margin-bottom: 100px) */
  transform: translateX(-50%);
  z-index: 3000;
  background: #232c3d;
  color: #fff;
  padding: 13px 22px 13px 18px;
  border-radius: 13px;
  box-shadow: 0 4px 24px rgba(30,40,60,0.18), 0 1.5px 4px rgba(60,80,130,0.10);
  font-size: 1.09rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 18px;
  animation: undo-flash 0.5s;
  opacity: 0.97;
  pointer-events: auto;
  min-width: 0;
  max-width: 90vw;
  white-space: pre-line;
}

@keyframes undo-flash {
  0% { box-shadow: 0 0 0 0 #22c55e55; }
  60% { box-shadow: 0 0 0 12px #22c55e33; }
  100% { box-shadow: 0 4px 24px rgba(30,40,60,0.18), 0 1.5px 4px rgba(60,80,130,0.10);}
}

.undo-toast .undo-message {
  flex: 1 1 auto;
  font-size: 1.09rem;
  font-weight: 700;
  color: #fff;
  margin-right: 8px;
}

.undo-toast .undo-btn {
  background: linear-gradient(90deg, #22c55e 0%, #38bdf8 100%);
  color: #fff;
  font-size: 1.01rem;
  font-weight: 700;
  border: none;
  border-radius: 8px;
  padding: 7px 18px;
  margin-left: 8px;
  cursor: pointer;
  box-shadow: 0 1px 4px rgba(34,197,94,0.13);
  transition: background 0.13s, color 0.13s, box-shadow 0.13s;
  outline: none;
}
.undo-toast .undo-btn:active,
.undo-toast .undo-btn:focus {
  background: linear-gradient(90deg, #38bdf8 0%, #22c55e 100%);
  color: #fff;
  box-shadow: 0 2px 8px rgba(34,197,94,0.18);
}

/* --- Move/Delete/Reset Toggle Button: Blinking effect when active --- */
@keyframes moveDeleteBlink {
  0%   { filter: brightness(1.0) saturate(1.0); opacity: 1; }
  40%  { filter: brightness(1.35) saturate(1.4); opacity: 1; box-shadow: 0 0 0 8px #ffe7b0; }
  50%  { filter: brightness(0.8) saturate(0.8); opacity: 0.5; box-shadow: 0 0 0 0 #ffe7b0; }
  60%  { filter: brightness(1.35) saturate(1.4); opacity: 1; box-shadow: 0 0 0 8px #ffe7b0; }
  100% { filter: brightness(1.0) saturate(1.0); opacity: 1; box-shadow: 0 0 0 0 #ffe7b0; }
}
#move-delete-toggle.editing-mode {
  animation: moveDeleteBlink 0.6s linear infinite !important;
  /* Use !important to override any other animation/fade */
  box-shadow: 0 0 0 0 #ffe7b0, 0 1px 4px rgba(60,80,130,0.09) !important;
  border: 2px solid #fbbf24 !important;
  opacity: 1 !important;
  /* Prevent transitions from interfering with animation */
  transition: none !important;
}

/* --- Per-table professional color classes (darker, accessible palette) --- */
.header.veggies-header      { background: #b8dbc7 !important; color: #23472b !important; }
.header.indian-header       { background: #d7c3e6 !important; color: #4b2956 !important; }
.header.bigw_target_kmart-header { background: #c3d4ea !important; color: #23324b !important; }
.header.bunnings-header     { background: #cfd8dc !important; color: #263238 !important; }
.header.officeworks-header  { background: #f3cccc !important; color: #8b1c1c !important; }
.header.test-header         { background: #e2d3cb !important; color: #4e342e !important; }
.header.default-header      { background: #c3d4ea !important; color: #232c3d !important; }

/* --- Remove duplicate header color rules and keep only one per class --- */
/* .header.veggies-header      { background: #b8dbc7 !important; color: #23472b !important; } */
/* .header.indian-header       { background: #d7c3e6 !important; color: #4b2956 !important; } */
/* .header.bigw_target_kmart-header { background: #c3d4ea !important; color: #23324b !important; } */
/* .header.bunnings-header     { background: #cfd8dc !important; color: #263238 !important; } */
/* .header.officeworks-header  { background: #f3cccc !important; color: #8b1c1c !important; } */
/* .header.test-header         { background: #e2d3cb !important; color: #4e342e !important; } */
/* .header.default-header      { background: #c3d4ea !important; color: #232c3d !important; } */

/* Remove duplicate color rules for header children */
.header,
.header * { color: #232c3d !important; }
.header.veggies-header,
.header.veggies-header * { color: #23472b !important; }
.header.indian-header,
.header.indian-header * { color: #4b2956 !important; }
.header.bigw_target_kmart-header,
.header.bigw_target_kmart-header * { color: #23324b !important; }
.header.bunnings-header,
.header.bunnings-header * { color: #263238 !important; }
.header.officeworks-header,
.header.officeworks-header * { color: #8b1c1c !important; }
.header.test-header,
.header.test-header * { color: #4e342e !important; }
.header.default-header,
.header.default-header * { color: #232c3d !important; }

/* Remove duplicate .modal-backdrop rules, keep only one set */
.modal-backdrop {
  display: none !important;
  align-items: center !important;
  justify-content: center !important;
  position: fixed !important;
  left: 0; top: 0; right: 0; bottom: 0;
  z-index: 2000;
  background: rgba(30,40,60,0.18);
  pointer-events: none !important;
}
.modal-backdrop.active {
  display: flex !important;
  pointer-events: auto !important;
}

/* Remove duplicate .modal-dialog centering rules */
.modal-dialog {
  margin: 0 !important;
  position: relative !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  transform: none !important;
}

/* --- Context Menu for Table Header --- */
.header-context-menu {
  position: fixed;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(30,40,60,0.18);
  padding: 8px 0;
  min-width: 140px;
  font-size: 1.05rem;
  z-index: 6001;
  border: 1px solid #e3e7ee;
  animation: fadeInMenu 0.18s;
}
@keyframes fadeInMenu {
  from { opacity: 0; transform: scale(0.97);}
  to   { opacity: 1; transform: scale(1);}
}
.header-context-menu > div {
  padding: 8px 18px;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.13s;
}
.header-context-menu > div:hover {
  background: #e3f2fd;
}

.modern-title-main {
  display: inline-block;
}

.modern-title-accent {
  color: #1976d2;
  font-weight: 900;
  margin-left: 2px;
  letter-spacing: 0.01em;
}

/* Style for family dropdown in Add User modal */
.family-dropdown {
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  font-size: 1.08rem;
  color: #1976d2;
  font-weight: 700;
  background: #f7fafd;
  border: 1.2px solid #c7d1e6;
  border-radius: 7px;
  outline: none;
  margin-bottom: 2px;
}

/* Style for family options in dropdown */
.family-dropdown option,
.family-option {
  color: #1976d2;
  font-weight: 700;
  background: #e3e7ee;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
}

/* Disabled Add button style in Add User modal */
#add-user-ok:disabled {
  opacity: 0.6 !important;
  cursor: not-allowed !important;
  background: #bdbdbd !important;
  color: #fff !important;
}

/* --- Add User Modal: Modern, bold, large buttons and text --- */
#add-user-modal-backdrop form#add-user-form {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 4px 24px rgba(30,40,60,0.18), 0 1.5px 4px rgba(60,80,130,0.10);
  padding: 28px 18px 18px 18px;
  min-width: 0;
  width: 96vw;
  max-width: 400px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  margin: 0 auto;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
}

#add-user-modal-backdrop .login-title,
#add-user-modal-backdrop .login-title-modern,
#add-user-modal-backdrop > div > div:first-child,
#add-user-modal-backdrop form > div:first-child {
  font-size: 1.25rem !important;
  font-weight: 800 !important;
  color: #232c3d !important;
  text-align: center;
  margin-bottom: 6px !important;
  letter-spacing: 0.01em;
}

#add-user-modal-backdrop input[type="email"],
#add-user-modal-backdrop input[type="text"],
#add-user-modal-backdrop select {
  font-size: 1.13rem !important;
  padding: 10px 10px !important;
  border-radius: 8px !important;
  border: 1.5px solid #c7d1e6 !important;
  background: #f7fafd !important;
  outline: none !important;
  width: 100% !important;
  box-sizing: border-box !important;
  margin-bottom: 8px !important;
  font-weight: 600 !important;
}

#add-user-modal-backdrop select {
  color: #1976d2 !important;
  font-weight: 700 !important;
}

#add-user-modal-backdrop .family-dropdown option,
#add-user-modal-backdrop .family-option {
  color: #1976d2 !important;
  font-weight: 700 !important;
  background: #e3e7ee !important;
}

#add-user-modal-backdrop #add-user-error {
  color: #e53935 !important;
  font-size: 1.09rem !important;
  min-height: 1.2em;
  text-align: center;
  font-weight: 700 !important;
  margin-bottom: 2px;
}

#add-user-modal-backdrop .modal-btns,
#add-user-modal-backdrop .input-modal-btns,
#add-user-modal-backdrop form > div:last-child {
  display: flex !important;
  flex-direction: row !important;
  gap: 14px !important;
  justify-content: center !important;
  align-items: center !important;
  margin-top: 10px !important;
  width: 100% !important;
}

#add-user-modal-backdrop button,
#add-user-modal-backdrop #add-user-ok,
#add-user-modal-backdrop #add-user-cancel {
  min-width: 0 !important;
  max-width: 180px !important;
  padding: 13px 0 !important;
  font-size: 1.13rem !important;
  border-radius: 9px !important;
  font-weight: 800 !important;
  border: none !important;
  margin: 0 !important;
  box-shadow: 0 1px 4px rgba(60,80,130,0.09) !important;
  flex: 1 1 0 !important;
  transition: background 0.14s, color 0.14s;
  letter-spacing: 0.01em;
  outline: none !important;
  cursor: pointer !important;
}

#add-user-modal-backdrop #add-user-ok {
  background: linear-gradient(90deg,#388e3c 60%, #5dd05d 100%) !important;
  color: #fff !important;
}

#add-user-modal-backdrop #add-user-cancel {
  background: #f3f6fa !important;
  color: #222 !important;
}

#add-user-modal-backdrop #add-user-ok:active {
  background: linear-gradient(90deg,#3070b3 0%,#2b79c2 100%) !important;
}
#add-user-modal-backdrop #add-user-cancel:active {
  background: #e0e7ef !important;
}

#add-user-modal-backdrop #add-user-ok:disabled {
  opacity: 0.6 !important;
  cursor: not-allowed !important;
  background: #bdbdbd !important;
  color: #fff !important;
}

/* Radio buttons: larger and spaced */
#add-user-modal-backdrop input[type="radio"] {
  width: 1.2em !important;
  height: 1.2em !important;
  accent-color: #388e3c !important;
  margin-right: 7px !important;
  vertical-align: middle !important;
}

#add-user-modal-backdrop label {
  font-size: 1.09rem !important;
  font-weight: 700 !important;
  color: #1976d2 !important;
  display: flex !important;
  align-items: center !important;
  gap: 7px !important;
  margin-bottom: 0 !important;
  cursor: pointer !important;
}

/* Responsive: modal width and padding on small screens */
@media (max-width: 430px) {
  #add-user-modal-backdrop form#add-user-form {
    width: 99vw !important;
    max-width: 99vw !important;
    padding: 18px 4vw 14px 4vw !important;
  }
  #add-user-modal-backdrop .modal-btns,
  #add-user-modal-backdrop .input-modal-btns,
  #add-user-modal-backdrop form > div:last-child {
    gap: 8px !important;
  }
  #add-user-modal-backdrop button,
  #add-user-modal-backdrop #add-user-ok,
  #add-user-modal-backdrop #add-user-cancel {
    font-size: 1.09rem !important;
    padding: 11px 0 !important;
  }
}
  #add-user-modal-backdrop #add-user-cancel {
    font-size: 1.09rem !important;
    padding: 11px 0 !important;
  }

/* --- Table Header Action Buttons: Uniform, Spaced, Clickable --- */
.header .table-delete-btn,
.header .table-move-handle,
.header .table-reset-btn {
  background: #fff !important;
  border-radius: 6px !important;
  border: 1.2px solid #bbb !important;
  box-shadow: 0 1px 3px rgba(60,80,130,0.08) !important;
  width: 26px !important;
  height: 26px !important;
  min-width: 26px !important;
  min-height: 26px !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  margin: 0 !important;
  padding: 0 !important;
  cursor: pointer;
  transition: background 0.13s, border-color 0.13s, box-shadow 0.13s;
}

/* Make icons inside header buttons smaller and centered */
.header .table-delete-btn i,
.header .table-move-handle i,
.header .table-reset-btn i {
  font-size: 20px !important;
  margin: 0 !important;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Add a good gap between buttons */
.header .table-delete-btn,
.header .table-move-handle,
.header .table-reset-btn {
  margin-right: 6px !important;
}
.header .table-reset-btn { margin-right: 0 !important; }

/* Collapse arrow: always at far right, large clickable area, modern design */
.collapse-arrow {
  margin-left:auto; /* Push to far right */
  margin-right: 8px; /* Some space from right edge */
  min-width: 32px;
  min-height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0; /* Hide default triangle text */
  cursor: pointer;
  user-select: none;
  z-index: 2;
  background: rgba(255,255,255,0.15);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 6px;
  transition: all 0.18s ease;
  position: relative;
  order: 999; /* Ensure it's always last */
}

/* Modern chevron icon using CSS */
.collapse-arrow::before {
  content: '';
  width: 8px;
  height: 8px;
  border-right: 2px solid currentColor;
  border-bottom: 2px solid currentColor;
  transform: rotate(45deg);
  transition: transform 0.18s ease;
  opacity: 0.85;
}

/* Hover effect */
.collapse-arrow:hover {
  background: rgba(255,255,255,0.25);
  border-color: rgba(255,255,255,0.4);
  transform: scale(1.05);
}

/* Collapsed state - rotate chevron */
.collapsed .collapse-arrow::before {
  transform: rotate(-135deg);
}

/* Active state */
.collapse-arrow:active {
  background: rgba(255,255,255,0.35);
  transform: scale(0.98);
}

/* On mobile, adjust size and spacing */
@media (max-width: 600px) {
  .header-actions {
    gap: 4px;
  }
  .header .table-delete-btn,
  .header .table-move-handle,
  .header .table-reset-btn {
    width: 30px !important;
    height: 30px !important;
    min-width: 30px !important;
    min-height: 30px !important;
  }
  .header .table-delete-btn i,
  .header .table-move-handle i,
  .header .table-reset-btn i {
    font-size: 18px !important;
  }
  .collapse-arrow {
    min-width: 28px;
    min-height: 28px;
    margin-right: 6px;
  }
  .collapse-arrow::before {
    width: 7px;
    height: 7px;
  }
}

/* Make icons and text inside check-zeros button visually balanced and compact */
#check-zeros-btn i.fas {
  font-size: 1.15em;
  margin: 0 2px 0 0;
  vertical-align: middle;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* If you use a "0" icon, make it smaller and aligned */
#check-zeros-btn i.fa-0 {
  font-size: 1.08em;
  margin-left: 2px;
  margin-right: 0;
  font-family: inherit;
  font-weight: 700;
  opacity: 0.95;
}

/* If you use a text "0" instead of icon, style it like this: */
#check-zeros-btn .zero-text {
  font-size: 0.97em;
  margin-left: 2px;
  font-family: inherit;
  font-weight: 700;
  opacity: 0.95;
  color: #fff;
  letter-spacing: 0.01em;
  display: inline-block;
  vertical-align: middle;
}
